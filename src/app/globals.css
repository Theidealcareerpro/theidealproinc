/* src/app/globals.css */

/* ────────────────────────────────────────────────────────────
   Tailwind Core
   ──────────────────────────────────────────────────────────── */
@import "tailwindcss";

/* ────────────────────────────────────────────────────────────
   Design Tokens (Stable format)
   Muted, executive palette; dark-mode tokens included.
   ──────────────────────────────────────────────────────────── */
:root {
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter,
               "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";

  /* Base colors (HSL without hsl()) */
  --color-ink:        20 14% 4%;    /* near-black */
  --color-ink-dim:   215 16% 45%;   /* muted slate */
  --color-surface:     0 0% 100%;   /* white */
  --color-muted:     220 14% 96%;   /* light gray surface */
  --color-primary:   222 70% 55%;   /* balanced indigo */
  --color-accent-a:  206 65% 54%;   /* steel */
  --color-accent-b:  256 65% 60%;   /* violet */
  --color-accent-c:  172 55% 48%;   /* teal */
  --color-accent-d:   28 70% 52%;   /* muted amber */

  --radius-lg: 1rem;
}

/* ────────────────────────────────────────────────────────────
   CSS Variables mapped for app usage
   ──────────────────────────────────────────────────────────── */
:root {
  --surface: var(--color-surface);
  --ink: var(--color-ink);
  --ink-dim: var(--color-ink-dim);
  --muted: var(--color-muted);
  --primary: var(--color-primary);

  --overlay-light: 0.8;
  --overlay-dark: 0.7;

  /* Spotlight coords (updated by layout script) */
  --mx: 50%;
  --my: 50%;

  /* View-transition background fallback */
  view-transition-name: root;
}

/* Dark mode tokens (class-based) */
/* :root.dark {
  --surface: 0 0% 6%;
  --ink: 0 0% 100%;
  --ink-dim: 220 10% 70%;
  --muted: 220 10% 12%;
  --primary: 222 70% 60%;
  --overlay-light: 0.15;
  --overlay-dark: 0.85;
} */

:root.dark {
  --surface: var(--color-surface);
  --ink: var(--color-ink);
  --ink-dim: var(--color-ink-dim);
  --muted: var(--color-muted);
  --primary: var(--color-primary);
}

/* Basic elements */
html, body { height: 100%; }
body {
  font-family: var(--font-sans);
  background-color: hsl(var(--surface));
  color: hsl(var(--ink));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* App container helper */
.container-app {
  max-width: 72rem; /* ~1152px */
  margin-inline: auto;
  padding-inline: 1rem;
}

/* ────────────────────────────────────────────────────────────
   Cards + Glass
   ──────────────────────────────────────────────────────────── */
.card {
  @apply rounded-2xl border shadow-sm;
  background: linear-gradient(180deg,
    hsl(var(--surface) / var(--overlay-light)),
    hsl(var(--surface) / var(--overlay-dark))
  );
  border-color: hsl(var(--ink-dim) / 15%);
}
:root.dark .card {
  background: linear-gradient(180deg,
    hsl(var(--surface) / var(--overlay-dark)),
    hsl(var(--surface) / calc(var(--overlay-dark) - 0.1))
  );
  border-color: hsl(var(--ink-dim) / 20%);
}

/* Glass utilities (localized glassmorphism) */
.glass {
  border: 1px solid hsl(var(--ink-dim) / 18%);
  background: linear-gradient(180deg,
    hsl(var(--surface) / 0.75),
    hsl(var(--surface) / 0.6)
  );
  backdrop-filter: blur(10px) saturate(140%);
  -webkit-backdrop-filter: blur(10px) saturate(140%);
  border-radius: 1rem;
}
:root.dark .glass {
  background: linear-gradient(180deg,
    hsl(var(--surface) / 0.75),
    hsl(var(--surface) / 0.6)
  );
}

.glass-soft {
  border: 1px solid hsl(var(--ink-dim) / 12%);
  background: linear-gradient(180deg,
    hsl(var(--surface) / 0.65),
    hsl(var(--surface) / 0.5)
  );
  backdrop-filter: blur(8px) saturate(125%);
  -webkit-backdrop-filter: blur(8px) saturate(125%);
  border-radius: .875rem;
}

/* ────────────────────────────────────────────────────────────
   Buttons
   ──────────────────────────────────────────────────────────── */
.btn {
  @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 text-sm font-medium transition;
  @apply border border-transparent focus:outline-none focus-visible:ring-2;
  outline-color: hsl(var(--primary));
}
.btn-primary {
  @apply text-white;
  background-color: hsl(var(--primary));
}
.btn-primary:hover { background-color: hsl(var(--primary) / 0.85); }

.btn-secondary {
  @apply text-[hsl(var(--ink))] border;
  background-color: hsl(var(--muted));
  border-color: hsl(var(--ink-dim) / 22%);
}
.btn-secondary:hover { background-color: hsl(var(--muted) / 80%); }

.btn-ghost {
  @apply bg-transparent text-[hsl(var(--ink))];
}
.btn-ghost:hover { background-color: hsl(var(--muted) / 60%); }

/* ────────────────────────────────────────────────────────────
   Links & Section Headers
   ──────────────────────────────────────────────────────────── */
.link {
  text-underline-offset: 4px;
  text-decoration-thickness: .08em;
}
.link:hover { text-decoration: underline; }

.section-title {
  @apply text-xs uppercase tracking-wider text-[hsl(var(--ink-dim))];
}

/* Animated underline for section headers */
.section-underline {
  position: relative; display: inline-block;
}
.section-underline::after {
  content: '';
  position: absolute; left: 0; bottom: -6px;
  height: 3px; width: 0%;
  background: linear-gradient(90deg,
    hsl(var(--primary)),
    hsl(256 65% 60%),
    hsl(172 55% 48%)
  );
  border-radius: 999px;
  transition: width .7s cubic-bezier(.22,1,.36,1);
}
.section-underline:is(:hover,:focus-visible)::after { width: 100%; }

.gradient-text {
  background: linear-gradient(90deg,
    hsl(222 70% 55%),
    hsl(256 65% 60%)
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* ────────────────────────────────────────────────────────────
   Animation Keyframes
   ──────────────────────────────────────────────────────────── */
@keyframes floatY {
  0% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
  100% { transform: translateY(0); }
}
@keyframes bgShift {
  0% { transform: translate3d(0,0,0) scale(1.0); }
  50% { transform: translate3d(0,-8px,0) scale(1.02); }
  100% { transform: translate3d(0,0,0) scale(1.0); }
}
@keyframes ringPulse {
  0%, 100% { transform: scale(1); opacity: .6; }
  50% { transform: scale(1.06); opacity: .9; }
}
@keyframes spin-slow { to { transform: rotate(360deg); } }
@keyframes marquee {
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); }
}
@keyframes tipFloat {
  0% { transform: translateY(0); }
  100% { transform: translateY(-18px); }
}
@keyframes tip-marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Utilities (motion-aware) */
.animate-floatY   { animation: floatY 6s ease-in-out infinite; }
.animate-bgShift  { animation: bgShift 16s linear infinite; }
.animate-ringPulse{ animation: ringPulse 3.6s ease-in-out infinite; }
.animate-spin-slow{ animation: spin-slow 16s linear infinite; }
.animate-marquee  { animation: marquee var(--marquee-speed, 40s) linear infinite; }
.animate-tip-marquee { animation: tip-marquee 28s linear infinite; }

/* Reduced motion: pause non-essential animations */
@media (prefers-reduced-motion: reduce) {
  .animate-floatY,
  .animate-bgShift,
  .animate-ringPulse,
  .animate-spin-slow,
  .animate-marquee,
  .animate-tip-marquee { animation: none !important; }
}

/* ────────────────────────────────────────────────────────────
   Subtle 3D & Tilt helpers
   ──────────────────────────────────────────────────────────── */
.tilt-3d {
  transform-style: preserve-3d;
  perspective: 1000px;
}
.tilt-3d > .tilt-layer { transform: translateZ(var(--z, 20px)); }

/* Depth ring (soft inner/highlight) */
.depth-ring {
  box-shadow:
    0 8px 20px -8px rgba(0,0,0,.18),
    inset 0 -8px 14px rgba(0,0,0,.12),
    inset 0 8px 14px rgba(255,255,255,.06);
}

/* ────────────────────────────────────────────────────────────
   Scrollbar polish (Chromium/Edge/Firefox)
   ──────────────────────────────────────────────────────────── */
html, body {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--ink-dim) / 35%) transparent;
}
html::-webkit-scrollbar,
body::-webkit-scrollbar {
  height: 10px; width: 10px;
}
html::-webkit-scrollbar-thumb,
body::-webkit-scrollbar-thumb {
  background: hsl(var(--ink-dim) / 35%);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
html::-webkit-scrollbar-track,
body::-webkit-scrollbar-track { background: transparent; }

/* ────────────────────────────────────────────────────────────
   View-Transitions polish
   ──────────────────────────────────────────────────────────── */
@supports (view-transition-name: root) {
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation-duration: .32s;
    animation-timing-function: cubic-bezier(.22,1,.36,1);
  }
}

/* ────────────────────────────────────────────────────────────
   Focus ring
   ──────────────────────────────────────────────────────────── */
:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
  border-radius: .25rem;
}

/* ────────────────────────────────────────────────────────────
   Small helpers
   ──────────────────────────────────────────────────────────── */
.hr-soft {
  height: 1px; width: 100%;
  background: linear-gradient(90deg, transparent, rgba(0,0,0,.12), transparent);
}
:root.dark .hr-soft {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
}

/* Hide tap highlight on mobile */
@media (pointer: coarse) {
  a, button { -webkit-tap-highlight-color: transparent; }
}
